# 2.1 타입이란?

<hr>

## 1. 자료형으로서의 타입

프로그래밍 언어에서 변수란 값을 저장할 수 있는 공간이자 값을 가리키는 상징적인 이름이다.

```javascript
var name = "zig";
var year = 2022;
```

이 예시에서 name과 year라는 이름으로 선언한 변수 각각 "zig"와 2022라는 값을 할당한다.
자바스크립트는 다음과 같은 7가지 데이터 타입(data type, 자료형)을 정의한다.

- undefined
- null
- Boolean(불리언)
- String(문자열)
- Symbol(심볼)
- Numeric(Number와 BigInt)
- Object

이와 같은 유형을 데이터 타입 또는 자료형이라 한다.

## 2. 집합으로서의 타입

타입은 값이 가질 수 있는 유효한 범위의 집합이다.

```typescript
const num: number = 123;
const str: string = "abc";

function func(n: number) {
  // ...
}

func(num);
func(str); // Argument of type "string" is not assignable to parameter of type "number"
```

어떤 값이 T 타입이면 컴파일러는 이 값으로 어떤 일을 할 수 있고, 할 수 없는 지 사전에 알 수 있다.
타입 시스템은 코드에서 사용되는 유효한 값의 범위를 제한해서 런타임에서 발생할 수 있는 유효하지 않은 값에 대한 에러를 방지한다.
func() 함수의 인자로 number 타입 값만 할당할 수 있도록 제한했다. 이에, string 타입의 str을 func()인자로 사용하면 에러가 발생한다.

```typescript
function double(n) {
  return n * 2;
}

double(2); // 4
double("z"); // NaN
```

double() 숫자를 인자로 받을거라고 기대한다. 함수의 매개변수 타입을 명시한다면 올바르지 않은 타입의 갑으로 함수를 호출했을 때 타입스크립트 컴파일러는 곧바로 에러를 발생시킨다.

```typescript
function double(n: number) {
  return n * 2;
}

double(2); // 4
double("z"); // Error: Argument of type "string" is not assignable to parameter of type "number"(2345)
```

타입스크립트 컴파일러는 함수를 호출할 때 호환되는 인자로 호출했는지를 판단한다.
2의 타입이 number고 duble()의 매개변수 타입인 number에 할당할 수 있고, 타입스크립트 컴파일러는 문제 없이 컴파일한다.

## 3. 정적 타입과 동적 타입

자바스크립트에도 타입은 존재한다. 정적 타입(static type)과 동적 타입(dynamic type)으로 분류할 수 있다.

- 정적 타입 시스템에서는 모든 변수의 타입이 컴파일타임에 결정된다. 개발자가 타입을 명시해줘야 하는 C, 자바, 타입스크립트 등이 정적 타입 언어에 속한다. 컴파일타임에 타입 에러를 발견할 수 있기에 프로그램의 안전성을 보장할 수 있다.

- 동적 타입 시스템은 변수 타입이 런타임에서 결정된다. 파이썬, 자바스크립트가 동적 타입언어로 개발자가 타입을 정의해줄 필요가 없다.
  실제로 런타임에 입력되는 변수가 다른 타입 값을 갖고 있다면 예상치 못한 결과를 반환해서 오류가 발생한다.

```ts
function multiplyByThree(number) {
  return number * 3;
}

multiplyByThree(10); // 30
multiplyByThree("f"); // NaN
```

> **컴파일타임과 런타임**
> 시점에 따라 컴파일 타임과 런타임으로 구분할 수 있다. 기계가 소스코드를 이해할 수 있도록 기계어로 변환되는 시점을 컴파일 타임이라고 하고 변환된 파일이 메모리에 적재되어 실행되는 시점을 런타임이라고 부른다.

## 4. 강타입과 약타입

개발자가 의도적으로 타입을 명시하거나 바꾸지 않았는데 컴파일러 또는 엔진 등에 의해서 런타임에 타입이 자동으로 변경되는 것을 암묵적 타입 변환(Implicit coercion/conversion)이라 한다.

암묵적 타입 변환 여부에 따라 타입 시스템을 강타입(strongly type)과 약타입(weakly type)으로 분류할 수 있다.
강타입 특징을 가진 언어는 서로 다른 타입을 갖는 값끼리 연산을 시도하면 컴파일러 또는 인터프리터에 에러가 발생한다.
약타입 특징을 갖는 언어는 서로 다른 타입을 갖는 값끼리 연산할 때 컴파일러 또는 인터프리터가 내부적으로 파단하여 타입을 변환하여 연산을 수행한다.

> ⚠️ 더하기 연산자를 예시를 들지 않은 이유는 자바스크립트의 더하기 연산자는 문자열, 숫자 타입을 모두 사용할 수 있기 때문이다. 타입스크립트 역시 문자열과 숫자 타입간 사용이 가능하여 적절치 않다.

암묵적 변환은 개발자가 명시적으로 타입을 변환하지 않아도 다른 데이터 타입끼리 연산을 진행할 수 있으나, 작성자의 의도와 다르게 동작할 수 있어 오류가 발생할수도 있다.

```js
const a = 3 + []; // "3"
const b = null + 12; // 12

let obj = {};
obj.foo; // undefined

function foo(num) {
  return num / 2;
}
a("bar"); //NaN
```

자바스크립트는 약타입 언어이기에 에러를 예측하고 방지하는 코드를 작성하는 것이 안전하게 만드는데 도움이 된다.
타입 시스템은 크게 2가지로 나뉠 수 있다.

1. 어떤 타입을 사용하는 지를 컴파일러에 명시적으로 알려줘야 하는 시스템.
2. 자동으로 타입을 추론하는 타입 시스템.

## 5. 컴파일 방식

컴파일은 사람이 작성한 코드를 기계어로 바꿔주는 과정이다.
그러나, 타입스크립트의 컴파일 결과물은 사람이 이해할 수 있는 방식인 자바스크립트 파일이다.
타입스크립트를 사용하는 이유는, 자바스크립트의 컴파일타임에 런타임 에러를 사전에 잡아내기 위함이다.
